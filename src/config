#pragma once

/*
////////////////////
/  Debug Config
////////////////////
*/
// #define DEBUG_MODE 1
// #define SCREEN_ON 1

/*
////////////////////
/  Pin definition
////////////////////
*/
#define MOTOR_LN_PIN 5
#define MOTOR_LP_PIN 6
#define MOTOR_RN_PIN 9
#define MOTOR_RP_PIN 10

//ATTENTION! 只有 pin 3,5,6,9,10 has PWM
#define SERVO_TONG_PIN 3
#define SERVO_CLEAVE_PIN 7 
#define SERVO_NECK_PIN 4

//相对于板子的RX,TX
#define SCAN_RX A0
#define SCAN_TX A1

/*
////////////////////
/  Motor Config
////////////////////
*/
#define MOTOR_L_PULSE 255
#define MOTOR_R_PULSE 255

/*
////////////////////
/  Servo Config
////////////////////
*/
#define SERVO_COUNT 3

#define SERVO_TONG_MIN 120
#define SERVO_TONG_MAX 180
#define SERVO_TONG_GRAB 160

#define SERVO_CLEAVE_MIN 9
#define SERVO_CLEAVE_MAX 120
#define SERVO_CLEAVE_CLIMB 30
#define SERVO_CLEAVE_GRAB 15

#define SERVO_NECK_MIN 25
#define SERVO_NECK_MAX 145
#define SERVO_NECK_MID 85

/*
////////////////////
/  Command Config
////////////////////
*/
#define CMD_NAME_SIZE 3
#define CMD_ARG_SIZE 3
#define CMD_MAX_COUNT 25

/*
////////////////////
/  Color Config
////////////////////
*/
enum Color {
    COLOR_NONE=0,
    COLOR_RED=1,
    COLOR_GREEN=2,
    COLOR_BLUE=3
};
const char* colornames[]={"None","Red","Green","Blue"};

#define COLOR_SEQ_COUNT 3
#define COLOR_BUF_SIZE 20
#define COLOR_SAMPLE_SIZE 6

/*
////////////////////
/  Utils Config
////////////////////
*/
#define SHORT_TIMEOUT 10000
#define LONG_TIMEOUT  1000000
#define REG_CMD(A,B) cmd_table[A]=B
#define REG_LCMD(A,B) lcmd_table[A-LCMD_IDENTIFIER]=B
#define REP(X) for(int __REP_INNER_I__=0;__REP_INNER_I__<X;__REP_INNER_I__++)
#define WHILE(X,TIMEOUT) for(int __WHILE_INNER_I__=0;(X)&&__WHILE_INNER_I__<TIMEOUT;__WHILE_INNER_I__++)
#define ISIZE(X) ((int)sizeof(X))
#if DEBUG_MODE == 1
#define TRACE(X) Serial.println(X)
#define TRACEV(X) Serial.print(X)
#define TRACESV(S,X) Serial.print(S);Serial.print(": ");Serial.println(X)
#else
#define TRACE(X)
#define TRACEV(X)
#define TRACESV(S,X)
#define assert(__e)
#endif

